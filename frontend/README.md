# Frontend (Next.js) - v1.14.0

## Overview

The frontend of **Nellai IPTV** is built with **Next.js**, **React**, and **Video.js**.

## Prerequisites

- Node.js >= 18
- npm (or Yarn)

## Setup

1. **Environment Config**:
   Create `.env.local` and add your backend API secret:
   ```bash
   NEXT_PUBLIC_API_URL=http://localhost/api
   NEXT_PUBLIC_API_SECRET=your_backend_api_secret_here
   ```

2. **Install & Run**:
   ```bash
   cd frontend
   npm install   # install dependencies
   npm run dev   # start development server
   ```

## Build for Production

```bash
npm run build   # generate optimized production build
npm start       # serve the built app
```

## Project Structure

```
frontend/
├─ app/          # Next.js App Router pages
├─ components/   # reusable UI components
├─ hooks/        # custom hooks (e.g., useTVFocus)
├─ lib/          # api and utility functions
├─ public/       # static assets
├─ styles/       # global CSS / Tailwind config
└─ package.json
```

## Features

- **TV-Friendly Interface**: Optimized for large screens and "10-foot" viewing distances.
- **Classic Mode**: A streamlined, TV-like experience with a focused player, channel list, and integrated ads.
- **Spatial Navigation**: Full support for arrow-key navigation (D-pad) for easy browsing on TV.
- **Smart Search**: Search by channel name or specific channel number (e.g., "CH 101" or just "1").
- **Live Visuals**: Auto-scrolling banners and interactive channel cards.
- **Enhanced Security (v1.13.0)**:
  - **API Key Integration**: All requests are secured with `X-API-KEY`.
  - **Protected Admin**: Secure cookie-based handling for admin sessions.
- **Accessible Disclaimer**: TV-navigable disclaimer modal with focus support.
- **Unlimited Browsing (v1.6.0)**: No more 100-channel limit; browse and search our entire channel catalog without restriction.
- **Premium UI (v1.8.0)**: 
  - **Animated Loader**: "Dual Ring" glowing active states.
  - **Persistent Watermark**: Responsive branding visible in fullscreen.
  - **OTT Improvements**: Separate Native Control experience for Embedded player.
- **Enhanced Player Ops (v1.9.0)**:
  - **Sidebar Search**: In-player channel search with immediate filtering.
  - **OTT Header Fullscreen**: One-click fullscreen toggle in the top-right navbar.
- **SEO & Analytics (v1.9.1)**:
  - **Dual Tracking**: Simultaneous support for Google Tag Manager (GTM) and direct Google Analytics (GA4).
  - **SEO Ready (v1.9.2)**: Indexed by search engines enabled (`index: true`).
- **Player Enhancements (v1.10.0)**:
  - **Watch History**: "Continue Watching" list on Dashboard.
  - **PiP & AirPlay**: Advanced playback controls.
  - **Auto-Retry**: Smart error recovery.
- **Mode Management (v1.11.0)**:
  - **Auto-Expiry**: Classic Mode reverts to OTT after 24h.
  - **Dynamic Titles**: Tab title updates to channel name.
  - **Lazy Loading**: Native image lazy loading.
  - **Status Cleanup**: Removed legacy status checks.
- **Stability & Resilience (v1.14.0)**:
  - **Smart Fallback**: Automatically switches to OTT mode if the backend disconnects in Classic Mode.
  - **Login Loop Fix**: Resolved infinite redirects for smoother authentication.
  - **Vercel Optimized**: Improved path handling for production deployments.

## TV Navigation Controls

| Key | Action |
| :--- | :--- |
| **Arrow Keys** | Navigate between elements (Up, Down, Left, Right) |
| **Enter (OK)** | Select / Play Channel |
| **Backspace / Esc** | Go Back / Close Menus |

## Video Player Controls

| Key | Action |
| :--- | :--- |
| **Enter / Space** | Play / Pause |
| **Arrow Up / Down** | Next / Previous Channel |
| **Arrow Left / Right** | Increase / Decrease Volume |
| **Backspace / Esc** | Exit Player / Go Back |

## Contributing

Please follow the contribution guidelines in the main repository and keep the code style consistent (Prettier, ESLint). 

---

*Generated by Antigravity*
